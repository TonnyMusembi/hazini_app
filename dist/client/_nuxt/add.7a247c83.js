import{_ as O}from"./Spin.c43bcd68.js";import{i as R,f as W,s as T,H as $,r as a,o as b,b as D,h as t,t as r,u as e,y as d,I as z,A as c,J as u,F as H,B as J,K as g,c as K,x as j,L as G,a as Q}from"./entry.d9247041.js";import{a as A,u as X}from"./login.c95085de.js";import{f as m,g as p}from"./errors.1471274f.js";const F=R("create-Loan-product-store",{state:()=>({pending:!1,responseOK:!1,nonFieldErrors:"",fieldErrors:null}),actions:{async createLoanProduct(V,f){try{this.pending=!0;let l="",_=null,x=!1;this.responseOK=x;const{data:M}=await A("/api/loan-products/create",{method:"post",body:{body:V,accessToken:f},async onResponse({request:n,response:i,options:h}){i.ok&&(x=!0)},async onResponseError({request:n,response:i,options:h}){var y,L;i.status==400&&(_=(y=i._data)==null?void 0:y.data.errors),i.status==401&&(l="Unauthorised"),i.status===403&&(l=(L=i._data)==null?void 0:L.data.error),i.status===500&&(l="Internal Error")}},"$nIKU1pKTmB");this.pending=!1,this.fieldErrors=_,this.nonFieldErrors=l,this.responseOK=x}catch{this.pending=!1}}}}),Y={class:"shadow-md p-5 bg-white h-[40rem] overflow-scroll"},Z={class:"text-red-500 mb-6"},ee=["onSubmit"],te={class:"mb-3"},se=t("label",{for:"company",class:"block text-sm font-semibold leading-6 text-gray-900"},"Select Company",-1),ne=["value"],oe={class:"text-red-500 mb-6 text-sm"},ae={class:"mb-3"},re=t("label",{for:"name",class:"block text-sm font-semibold leading-6 text-gray-900"},"Name",-1),le={class:"text-red-500 mb-6 text-sm"},ie={class:"mb-3"},de=t("label",{for:"interest",class:"block text-sm font-semibold leading-6 text-gray-900"},"Interest",-1),ce={class:"text-red-500 mb-6 text-sm"},ue={class:"mb-3"},me=t("label",{for:"duration",class:"block text-sm font-semibold leading-6 text-gray-900"},"Duration In days",-1),pe={class:"text-red-500 mb-6 text-sm"},ge={class:"mb-3"},fe=t("label",{for:"installments",class:"block text-sm font-semibold leading-6 text-gray-900"},"Installments",-1),be={class:"text-red-500 mb-6 text-sm"},xe={class:"mb-3"},_e=t("label",{for:"maximum-principal",class:"block text-sm font-semibold leading-6 text-gray-900"},"MaximumPrincipal",-1),he={class:"text-red-500 mb-6 text-sm"},ye={class:"mb-3"},ve=t("label",{for:"maximum-interest",class:"block text-sm font-semibold leading-6 text-gray-900"},"MaximumInterest",-1),we={class:"text-red-500 mb-6 text-sm"},ke={class:"mb-3"},Ie=t("label",{for:"waiver",class:"block text-sm font-semibold leading-6 text-gray-900"},"Waiver",-1),Ce={class:"text-red-500 mb-6 text-sm"},Ee={class:"mb-3"},Pe=t("label",{for:"transaction-cost",class:"block text-sm font-semibold leading-6 text-gray-900"},"Transaction Cost",-1),Ue={class:"text-red-500 mb-6 text-sm"},qe={type:"submit",class:"inline-flex rounded-lg text-sm font-semibold py-2.5 px-4 text-sky-50 bg-teal-700 hover:text-sky-50/80 hover:bg-teal-600"},De={key:1},Ve=W({__name:"AddLoanProduct",async setup(V){let f,l;const{createLoanProduct:_}=F(),{pending:x,nonFieldErrors:M,fieldErrors:n,responseOK:i}=T(F()),{user:h}=T(X()),{data:y,pending:L,error:Se,refresh:Te}=([f,l]=$(()=>A("/api/company/list",{query:{pageSize:10,pageID:1,accessToken:h.value.refresh_token}},"$NDwUJuRnWj")),f=await f,l(),f),v=a(""),w=a(),k=a(),I=a(),C=a(),E=a(),P=a(),U=a(),q=a();a();const B=async()=>{const S=h.value.refresh_token,o={name:v.value,interest:w.value,duration:k.value,installments:I.value,maximum_principal:C.value,maximum_interest:E.value,waiver:P.value,transaction_cost:U.value,company_id:q.value,status:1};await _(o,S),i.value&&G("/loan-products")};return a("Add Company"),(S,o)=>{const N=O;return b(),D("div",Y,[t("p",Z,r(e(M)),1),t("form",{onSubmit:j(B,["prevent"]),class:"w-full"},[t("div",te,[se,d(t("select",{"onUpdate:modelValue":o[0]||(o[0]=s=>c(q)?q.value=s:null),id:"company",class:u([{"ring-1 ring-red-500 bg-red-50":e(m)(e(n),"CompanyID")},"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"])},[(b(!0),D(H,null,J(e(y),s=>(b(),D("option",{value:s.id,key:s.id},r(s.name),9,ne))),128))],2),[[z,e(q)]]),t("p",oe,r(e(p)(e(n),"CompanyID")),1)]),t("div",ae,[re,d(t("input",{type:"text",id:"name","onUpdate:modelValue":o[1]||(o[1]=s=>c(v)?v.value=s:null),class:u([{"ring-1 ring-red-500 bg-red-50":e(m)(e(n),"Name")},"appearance-none text-slate-900 bg-gray-50 rounded-md block w-full px-3 h-10 shadow-sm sm:text-sm focus:outline-none placeholder:text-slate-400 focus:ring-2 focus:ring-sky-500 ring-1 ring-slate-200"]),required:""},null,2),[[g,e(v)]]),t("p",le,r(e(p)(e(n),"Name")),1)]),t("div",ie,[de,d(t("input",{type:"number",step:"0.01",id:"interest",class:u([{"ring-1 ring-red-500 bg-red-50":e(m)(e(n),"Interest")},"appearance-none text-slate-900 bg-gray-50 rounded-md block w-full px-3 h-10 shadow-sm sm:text-sm focus:outline-none placeholder:text-slate-400 focus:ring-2 focus:ring-sky-500 focus:bg-white ring-1 ring-slate-200"]),"aria-required":"","onUpdate:modelValue":o[2]||(o[2]=s=>c(w)?w.value=s:null)},null,2),[[g,e(w)]]),t("p",ce,r(e(p)(e(n),"Interest")),1)]),t("div",ue,[me,d(t("input",{type:"number",id:"duration",class:u([{"ring-1 ring-red-500 bg-red-50":e(m)(e(n),"Duration")},"appearance-none text-slate-900 bg-gray-50 rounded-md block w-full px-3 h-10 shadow-sm sm:text-sm focus:outline-none placeholder:text-slate-400 focus:ring-2 focus:ring-sky-500 focus:bg-white ring-1 ring-slate-200"]),"aria-required":"",min:"60","onUpdate:modelValue":o[3]||(o[3]=s=>c(k)?k.value=s:null)},null,2),[[g,e(k)]]),t("p",pe,r(e(p)(e(n),"Duration")),1)]),t("div",ge,[fe,d(t("input",{type:"number",id:"installments",min:"0",class:u([{"ring-1 ring-red-500 bg-red-50":e(m)(e(n),"Installments")},"appearance-none text-slate-900 bg-gray-50 rounded-md block w-full px-3 h-10 shadow-sm sm:text-sm focus:outline-none placeholder:text-slate-400 focus:ring-2 focus:ring-sky-500 ring-1 ring-slate-200"]),required:"","onUpdate:modelValue":o[4]||(o[4]=s=>c(I)?I.value=s:null)},null,2),[[g,e(I)]]),t("p",be,r(e(p)(e(n),"Installments")),1)]),t("div",xe,[_e,d(t("input",{type:"number",id:"maximum-principal",min:"500",class:u([{"ring-1 ring-red-500 bg-red-50":e(m)(e(n),"MaximumPrincipal")},"appearance-none text-slate-900 bg-gray-50 rounded-md block w-full px-3 h-10 shadow-sm sm:text-sm focus:outline-none placeholder:text-slate-400 focus:ring-2 focus:ring-sky-500 focus:bg-white ring-1 ring-slate-200"]),"aria-required":"","onUpdate:modelValue":o[5]||(o[5]=s=>c(C)?C.value=s:null)},null,2),[[g,e(C)]]),t("p",he,r(e(p)(e(n),"MaximumPrincipal")),1)]),t("div",ye,[ve,d(t("input",{type:"number",id:"maximum-interest",step:"0.01",min:".4",class:u([{"ring-1 ring-red-500 bg-red-50":e(m)(e(n),"MaximumInterest")},"appearance-none text-slate-900 bg-gray-50 rounded-md block w-full px-3 h-10 shadow-sm sm:text-sm focus:outline-none placeholder:text-slate-400 focus:ring-2 focus:ring-sky-500 focus:bg-white ring-1 ring-slate-200"]),"aria-required":"","onUpdate:modelValue":o[6]||(o[6]=s=>c(E)?E.value=s:null)},null,2),[[g,e(E)]]),t("p",we,r(e(p)(e(n),"MaximumInterest")),1)]),t("div",ke,[Ie,d(t("input",{type:"number",id:"waiver",step:"0.01",min:"0",class:u([{"ring-1 ring-red-500 bg-red-50":e(m)(e(n),"Waiver")},"appearance-none text-slate-900 bg-gray-50 rounded-md block w-full px-3 h-10 shadow-sm sm:text-sm focus:outline-none placeholder:text-slate-400 focus:ring-2 focus:ring-sky-500 focus:bg-white ring-1 ring-slate-200"]),"aria-required":"","onUpdate:modelValue":o[7]||(o[7]=s=>c(P)?P.value=s:null)},null,2),[[g,e(P)]]),t("p",Ce,r(e(p)(e(n),"Waiver")),1)]),t("div",Ee,[Pe,d(t("input",{type:"number",id:"transaction-cost",step:"0.01",min:"0",class:u([{"ring-1 ring-red-500 bg-red-50":e(m)(e(n),"TransactionCost")},"appearance-none text-slate-900 bg-gray-50 rounded-md block w-full px-3 h-10 shadow-sm sm:text-sm focus:outline-none placeholder:text-slate-400 focus:ring-2 focus:ring-sky-500 focus:bg-white ring-1 ring-slate-200"]),"aria-required":"","onUpdate:modelValue":o[8]||(o[8]=s=>c(U)?U.value=s:null)},null,2),[[g,e(U)]]),t("p",Ue,r(e(p)(e(n),"TransactionCost")),1)]),t("button",qe,[e(x)?(b(),K(N,{key:0})):(b(),D("span",De,"Add Loan Product"))])],40,ee)])}}}),Le={};function Me(V,f){const l=Ve;return b(),K(l)}const Ne=Q(Le,[["render",Me]]);export{Ne as default};
