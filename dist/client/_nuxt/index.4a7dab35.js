import{f as B,s as C,r as x,H as q,o as n,b as a,h as e,F as g,B as $,J as D,u as i,t as S,C as p,D as z,E as A,G as E,W as G}from"./entry.d9247041.js";import{u as H,a as J}from"./login.c95085de.js";import{u as j,a as O}from"./AddResourcesDialog.vue.fe5c3e02.js";import{u as N}from"./DialogComponent.vue.4a7fb94b.js";import{f as W,a as K,_ as M}from"./ThePermissionsByRole.vue.df119d48.js";import"./Spin.c43bcd68.js";import"./use-event-listener.8ae17784.js";import"./use-resolve-button-type.8f768677.js";import"./DialogTitle.3caea66f.js";import"./update-role.47af15ac.js";const Q={class:"shadow-md"},U={class:"overflow-x-auto"},X={class:"w-full text-sm text-left text-gray-500"},Y=e("div",{class:"flex justify-between w-full text-sm font-bold text-left text-gray-500 px-6 py-3 tracking-wide"},[e("div",{class:""},"Roles")],-1),Z=e("div",{class:"px-6 text-sm py-3 text-gray-900 font-semibold"},"Active",-1),ee=["onClick"],te={class:"w-ful whitespace-nowrap"},se={class:"w-full flex justify-end whitespace-nowrap text-teal-700"},oe=e("div",{class:"px-6 text-sm py-6 text-gray-900 font-semibold"}," Deactivated ",-1),ne=["onClick"],ae={class:"w-ful whitespace-nowrap"},re=B({__name:"TheRoles",async setup(T){let s,l;const{openEditPermissionDialog:c}=N(),{user:w}=C(H()),{selectedRole:o}=C(j()),{setSelectedRole:m,setEditRoleIntention:_,setRefreshRolesFunction:f}=j(),{setSelectedPermission:v}=O(),P=x(10),F=x(1),{data:b,pending:de,error:ue,refresh:y}=([s,l]=q(()=>J("/api/roles/list",{query:{accessToken:w.value.refresh_token,pageID:F.value,pageSize:P.value}},"$g29Ok2bgyj")),s=await s,l(),s);y();const k=d=>{m(d),o.value!=null&&v(o.value.permission)},I=()=>W(b.value),V=()=>K(b.value),R=d=>{_(d),c()};return f(y),(d,u)=>{const L=E;return n(),a("div",Q,[e("div",U,[e("div",X,[Y,Z,(n(!0),a(g,null,$(I(),t=>{var r;return n(),a("div",{key:t.id,class:D(["bg-white hover:bg-teal-100 cursor-pointer columns-3 px-6 py-2 font-medium",{"bg-teal-100":t.id===((r=i(o))==null?void 0:r.id)}]),onClick:h=>k(t)},[e("div",te,S(t.name),1),e("div",se,[p(L,{to:"/roles/update"},{default:z(()=>[A(" Edit ")]),_:1})]),e("div",{onClick:u[0]||(u[0]=h=>R(!1)),class:"w-full flex justify-end text-red-400"}," Deactivate ")],10,ee)}),128)),oe,(n(!0),a(g,null,$(V(),t=>{var r;return n(),a("div",{key:t.id,class:D(["bg-white hover:bg-teal-100 cursor-pointer columns-2 px-6 py-2 font-medium",{"bg-teal-100":t.id===((r=i(o))==null?void 0:r.id)}]),onClick:h=>k(t)},[e("div",ae,S(t.name),1),e("div",{onClick:u[1]||(u[1]=h=>R(!0)),class:"w-full flex justify-end text-teal-700"}," Activate ")],10,ne)}),128))])])])}}}),ie={class:"flex h-[35rem] space-x-10"},le={key:0,class:"relative block"},ce=e("div",{class:"cursor-pointer hover:bg-teal-900 hover:border-separate hover:border-gray-600 rounded-full absolute -bottom-14 right-5 z-50 flex justify-center text-white items-center bg-teal-500 h-12 w-12 p-5 shadow-xl"}," + ",-1),ye=B({__name:"index",setup(T){const s=x(!1),l=()=>{s.value=!s.value},{openAddResourcesDialog:c}=N();return(w,o)=>{const m=re,_=M,f=E;return n(),a(g,null,[e("div",ie,[p(m,{class:"w-1/3"}),A(),p(_,{class:"w-2/3"})]),i(s)?(n(),a("div",le,[e("div",{onClick:o[0]||(o[0]=(...v)=>i(c)&&i(c)(...v)),class:"cursor-pointer hover:bg-teal-900 hover:border-separate hover:border-gray-600 rounded-full absolute bottom-0 right-5 z-50 flex justify-center text-white items-center bg-teal-600 h-12 w-12 p-5 shadow-xl"}," + "),p(f,{to:"/roles/add"},{default:z(()=>[ce]),_:1})])):G("",!0),e("div",{onClick:l,class:"cursor-pointer hover:bg-teal-500 hover:border-separate hover:border-gray-600 rounded-full absolute bottom-10 right-8 z-50 flex justify-center text-white items-center bg-teal-900 h-12 w-12 p-5 shadow-xl"}," > ")],64)}}});export{ye as default};
